var ExtendedLocalStorageIframe=function(a){this.init(a)};ExtendedLocalStorageIframe.prototype={init:function(a){var b=this;if(!window.localStorage||!window.JSON){return false}this.addEvent("message",window,function(j){var d,g,c=false,h,f;for(d=0,g=a.length;d<g;d++){if(j.origin===a[d]){c=true;break}}if(!c){return false}h=JSON.parse(j.data);switch(h.type){case"get":f=JSON.stringify({type:"get",value:b.getItem(h.key)});j.source.postMessage(f,j.origin);break;case"set":b.setItem(h.key,h.value);f=JSON.stringify({type:"set"});j.source.postMessage(f,j.origin);break}})},addEvent:function(b,a,c){if(a.addEventListener){a.addEventListener(b,function(d){c.call(a,d)},false)}else{if(a.attachEvent){b="on"+b;a.attachEvent(b,function(d){c.call(a,d)})}}},setItem:function(a,b){localStorage.setItem(a,JSON.stringify(b))},getItem:function(a){var b=localStorage.getItem(a);if(b){b=JSON.parse(localStorage.getItem(a))}else{b=null}return b}};!function(){var a=new ExtendedLocalStorageIframe(extendedLocalStoragePermissions)}.call(window);